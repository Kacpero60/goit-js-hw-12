import{a as f}from"./assets/vendor-Cn2Vr82J.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const c of t.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function d(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function s(e){if(e.ep)return;e.ep=!0;const t=d(e);fetch(e.href,t)}})();async function u(r,o=1){const s=`https://pixabay.com/api/?key=46136596-f3a48b293dc28723065feba0c&q=${r}&image_type=photo&orientation=horizontal&safesearch=true&per_page=40&page=${o}`;try{return(await f.get(s)).data}catch(e){throw console.error("Error fetching images:",e),e}}let n=1,a="",l=0;const m=document.querySelector("#search-form"),y=document.querySelector("#gallery"),i=document.getElementById("load-more");m.addEventListener("submit",async r=>{r.preventDefault(),a=r.target.query.value,n=1,y.innerHTML="",i.hidden=!0;const o=await u(a,n);renderGallery(o.hits),l=o.totalHits,l>40&&(i.hidden=!1)});i.addEventListener("click",async()=>{n+=1;const r=await u(a,n);renderGallery(r.hits),h(),n*40>=l&&(i.hidden=!0,iziToast.info({message:"We're sorry, but you've reached the end of search results."}))});function h(){const{height:r}=document.querySelector(".gallery-item").getBoundingClientRect();window.scrollBy({top:r*2,behavior:"smooth"})}
//# sourceMappingURL=index.js.map
